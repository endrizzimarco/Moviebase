%nav.navbar.navbar-inverse.navbar-fixed-top{role: 'navigation'}
  .container-fluid
    .navbar-header
      %button.navbar-toggle.collapsed{'data-target' => '#bs-example-navbar-collapse-1', 'data-toggle' => 'collapse', type: 'button'}
        %span.sr-only= t('.toggleNavigation')
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      = link_to t('.title'), root_path, class: 'navbar-brand'
    -# Collect the nav links, forms, and other content for toggling
    #bs-example-navbar-collapse-1.collapse.navbar-collapse
      %ul.nav.navbar-nav
        - if user_signed_in?
          %li
            %a{href: movies_path}
              .glyphicon.glyphicon-film
              = t('.seenMovies')
          %li
            %a{href: favourite_movies_path}
              .glyphicon.glyphicon-heart-empty
              = t('.favourites')
          %li
            %a{href: edit_user_registration_path}
              .glyphicon.glyphicon-user
              = t('.account')
          %li
            %a{href: destroy_user_session_path}
              .glyphicon.glyphicon-log-out
              = t('.logOut')
        - else
          %li
            %a{href: new_user_registration_path} 
              .glyphicon.glyphicon-user
              = t('.signUp')
          %li
            %a{href: new_user_session_path} 
              %span.glyphicon.glyphicon-log-in
              = t('.logIn')
      = form_tag('/search', method: 'get', class: 'navbar-form navbar-right', role: 'search') do
        .form-group
          = text_field_tag(:q, '', class: 'form-control', placeholder: t('.searchMovies'))
        = submit_tag(t('.submit'), class: 'btn btn-default')
    -# navbar-collapse
  -# container-fluid


-# Make active view lighter on navbar
:javascript
  var loc = window.location.pathname;

  $('.navbar-nav li').find('a').each(function() {
    if ($(this).attr('href') == loc) {
      $(this).prop('id', 'current');
    }
  });